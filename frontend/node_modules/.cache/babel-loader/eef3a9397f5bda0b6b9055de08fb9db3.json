{"ast":null,"code":"import { login, register, userInfo, updateUsername, removeUser } from '../api/index.js';\nimport { AUTH, AUTH_ERROR_OCCURRED, DELETE_USER, USER_ERROR_OCCURRED, USER_INFO, USER_UPDATE_NAME } from '../constants/actions';\n\n// POST /user/login\nexport const loginUser = (formInput, router, state) => async dispatch => {\n  try {\n    const {\n      data\n    } = await login(formInput);\n    dispatch({\n      type: AUTH,\n      data\n    });\n    router.push((state === null || state === void 0 ? void 0 : state.from) || '/');\n  } catch (error) {\n    if (error.response) {\n      dispatch({\n        type: AUTH_ERROR_OCCURRED,\n        payload: error.response.data.message\n      });\n    } else {\n      dispatch({\n        type: AUTH_ERROR_OCCURRED,\n        payload: \"Auth server is down!\"\n      });\n    }\n  }\n};\n\n// POST /user/register\nexport const registerUser = (formInput, router, state) => async dispatch => {\n  try {\n    const {\n      data\n    } = await register(formInput);\n    dispatch({\n      type: AUTH,\n      data\n    });\n    router.push((state === null || state === void 0 ? void 0 : state.from) || '/');\n  } catch (error) {\n    if (error.response) {\n      dispatch({\n        type: AUTH_ERROR_OCCURRED,\n        payload: error.response.data.message\n      });\n    } else {\n      dispatch({\n        type: AUTH_ERROR_OCCURRED,\n        payload: \"Auth server is down!\"\n      });\n    }\n  }\n};\n\n// GET /user/userinfo\nexport const getUserInfo = () => async dispatch => {\n  try {\n    const {\n      data\n    } = await userInfo();\n    dispatch({\n      type: USER_INFO,\n      data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};\n\n// PATCH /user/username\nexport const updateUserName = (formInput, router) => async dispatch => {\n  try {\n    const {\n      data\n    } = await updateUsername(formInput);\n    dispatch({\n      type: USER_UPDATE_NAME,\n      data\n    });\n    router.push('/');\n  } catch (error) {\n    if (error.response) {\n      dispatch({\n        type: USER_ERROR_OCCURRED,\n        payload: error.response.data.message\n      });\n    } else {\n      dispatch({\n        type: USER_ERROR_OCCURRED,\n        payload: \"Accounts server is down!\"\n      });\n    }\n  }\n};\n\n// DELETE /user/removeuser\nexport const removeUserAccount = router => async dispatch => {\n  try {\n    await removeUser();\n    dispatch({\n      type: DELETE_USER,\n      payload: null\n    });\n    router.push('/');\n  } catch (error) {\n    console.log(error.response.data.message);\n    if (error.response) {\n      dispatch({\n        type: USER_ERROR_OCCURRED,\n        payload: error.response.data.message\n      });\n    } else {\n      dispatch({\n        type: USER_ERROR_OCCURRED,\n        payload: \"Accounts server is down!\"\n      });\n    }\n  }\n};","map":{"version":3,"names":["login","register","userInfo","updateUsername","removeUser","AUTH","AUTH_ERROR_OCCURRED","DELETE_USER","USER_ERROR_OCCURRED","USER_INFO","USER_UPDATE_NAME","loginUser","formInput","router","state","dispatch","data","type","push","from","error","response","payload","message","registerUser","getUserInfo","console","log","updateUserName","removeUserAccount"],"sources":["C:/Users/Shrey Vegad/Desktop/GITHUB/Mock-Stocks/frontend/src/actions/auth.js"],"sourcesContent":["import { login, register, userInfo, updateUsername, removeUser } from '../api/index.js';\r\nimport { AUTH, AUTH_ERROR_OCCURRED, DELETE_USER, USER_ERROR_OCCURRED, USER_INFO, USER_UPDATE_NAME } from '../constants/actions';\r\n\r\n// POST /user/login\r\nexport const loginUser = (formInput, router, state) => async (dispatch) => {\r\n  try {\r\n    const { data } = await login(formInput);\r\n    dispatch({ type: AUTH, data });\r\n    router.push(state?.from || '/');\r\n  } catch (error) {\r\n    if (error.response) {\r\n      dispatch({ type: AUTH_ERROR_OCCURRED, payload: error.response.data.message });\r\n    } else {\r\n      dispatch({ type: AUTH_ERROR_OCCURRED, payload: \"Auth server is down!\" });\r\n    }\r\n  }\r\n};\r\n\r\n// POST /user/register\r\nexport const registerUser = (formInput, router, state) => async (dispatch) => {\r\n  try {\r\n    const { data } = await register(formInput);\r\n    dispatch({ type: AUTH, data });\r\n    router.push(state?.from || '/');\r\n  } catch (error) {\r\n    if (error.response) {\r\n      dispatch({ type: AUTH_ERROR_OCCURRED, payload: error.response.data.message });\r\n    } else {\r\n      dispatch({ type: AUTH_ERROR_OCCURRED, payload: \"Auth server is down!\" });\r\n    }\r\n  }\r\n};\r\n\r\n// GET /user/userinfo\r\nexport const getUserInfo = () => async (dispatch) => {\r\n  try {\r\n    const { data } = await userInfo();\r\n    dispatch({ type: USER_INFO, data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\n// PATCH /user/username\r\nexport const updateUserName = (formInput, router) => async (dispatch) => {\r\n  try {\r\n    const { data } = await updateUsername(formInput);\r\n    dispatch({ type: USER_UPDATE_NAME, data });\r\n    router.push('/');\r\n  } catch (error) {\r\n    if (error.response) {\r\n      dispatch({ type: USER_ERROR_OCCURRED, payload: error.response.data.message });\r\n    } else {\r\n      dispatch({ type: USER_ERROR_OCCURRED, payload: \"Accounts server is down!\" });\r\n    }\r\n  }\r\n};\r\n\r\n// DELETE /user/removeuser\r\nexport const removeUserAccount = (router) => async (dispatch) => {\r\n  try {\r\n    await removeUser();\r\n    dispatch({ type: DELETE_USER, payload: null });\r\n    router.push('/');\r\n  } catch (error) {\r\n    console.log(error.response.data.message)\r\n    if (error.response) {\r\n      dispatch({ type: USER_ERROR_OCCURRED, payload: error.response.data.message });\r\n    } else {\r\n      dispatch({ type: USER_ERROR_OCCURRED, payload: \"Accounts server is down!\" });\r\n    }\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}